
<div nz-row nzType="flex" nzJustify="start" nzAlign="top" style="margin-bottom: 1rem;">
    <button nz-button nzType="text" routerLink="/configuration/position">
      <i nz-icon nzType="arrow-left"></i>
      Back to list</button>
  </div>
  <form nz-form [formGroup]="positionFrom" style="margin: 2rem;" 
  (ngSubmit)="_submitForm()" nzLayout="horizontal">
   <div nz-row>
    <nz-form-item nz-col [nzXs]="{ span: 12, offset: 1 }" [nzLg]="{ span: 6, offset: 2 }">
        <nz-form-label nzFor="gradeId" nzSpan="23" nzRequired>Position Grade</nz-form-label>
        <nz-form-control nzSpan="23" nzSm="">
          <nz-select formControlName="gradeId"
          nzPlaceHolder="Select Grade"
          nzAllowClear
          nzShowSearch
          >
            <ng-container *ngFor="let o of grades">
              <nz-option *ngIf="!isLoading" [nzValue]="o.id" [nzLabel]="o.name"></nz-option>
            </ng-container>
            <nz-option *ngIf="isLoading" nzDisabled nzCustomContent>
              <i nz-icon nzType="loading" class="loading-icon"></i>
              Loading Data...
            </nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>

    <nz-form-item  nz-col [nzXs]="{ span: 22, offset: 1 }" [nzLg]="{ span:8, offset:1 }">
      <nz-form-label nzFor="code" nzSpan="23" nzRequired nzTooltipIcon="question-circle"
       nzTooltipTitle="Position code is generated by system this might be changed after creation">Position Code </nz-form-label>
      <nz-form-control nzSpan="23" nzSm="">
        <input nz-input formControlName="positionCode" id="code" name="code" placeholder="Enter ">
      </nz-form-control>
    </nz-form-item>
  
  
    <nz-form-item  nz-col [nzXs]="{ span: 20, offset: 2 }" [nzLg]="{ span: 8, offset: 1 }">
      <nz-form-label nzFor="positionName" nzSpan="23" nzRequired>Name</nz-form-label>
      <nz-form-control nzSpan="23" nzSm="">
        <input nz-input formControlName="positionName" id="positionName" name="positionName" placeholder="Enter Position Name">
      </nz-form-control>
    </nz-form-item>
  
    <nz-form-item nz-col [nzXs]="{ span: 23, offset: 1 }" [nzLg]="{ span: 12, offset: 2 }">
      <nz-form-label nzFor="description" nzSpan="23" nzRequired>description</nz-form-label>
      <nz-form-control nzSpan="23" nzSm="">
        <input nz-input formControlName="description" id="description" name="description" placeholder="Enter  description">
      </nz-form-control>
    </nz-form-item>
  
   </div>
  
   <div nz-row>
    <nz-form-item nz-col [nzXs]="{ span: 23, offset: 1 }" [nzLg]="{ span: 4, offset: 1 }">
    
      <nz-form-control nzSpan="23" nzSm="23" nzOffset="0">
       <button nz-button nzType="default" [nzLoading]="saving" type="submit">Save Position</button>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item nz-col  [nzXs]="{ span: 23, offset: 1 }" [nzLg]="{ span: 6, offset: 1 }" *ngIf="positionFrom.controls['id'].value>0">
    
      <nz-form-control nzSpan="23" nzSm="23" nzOffset="0">
        <button nz-button nzType="default" type="button" (click)="isVisible=true" nzDanger>Delete Position</button>
       </nz-form-control>
    </nz-form-item>
   </div>
    
  </form>
  
  
  
  <nz-modal
  [(nzVisible)]="isVisible"
  nzOkText="Delete"
  [nzOkLoading]="deleteLoading"
  nzOkDanger="true"
  nzCancelText="Cancel"
  nzTitle="Delete Position"
  (nzOnOk)="delete()"
  (nzOnCancel)="isVisible=false"
  >
  <ng-container *nzModalContent >
    Are you sure,want to delete {{this.positionFrom.value['positionName']}}
  </ng-container>
  </nz-modal>